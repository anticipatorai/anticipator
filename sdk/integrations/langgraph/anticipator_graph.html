<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Anticipator</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
<link  href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Space Grotesk', sans-serif;
    background: #080b14;
    color: #e2e8f0;
    height: 100vh;
    overflow: hidden;
    background-image: radial-gradient(ellipse at 60% 40%, rgba(127,29,29,0.18) 0%, transparent 60%),
                      radial-gradient(ellipse at 20% 80%, rgba(99,102,241,0.08) 0%, transparent 50%);
  }

  /* Top bar */
  .topbar {
    height: 58px;
    background: rgba(15,20,35,0.95);
    border-bottom: 1px solid rgba(255,255,255,0.06);
    display: flex;
    align-items: center;
    padding: 0 28px;
    gap: 20px;
    backdrop-filter: blur(10px);
  }
  .logo { font-size: 18px; font-weight: 700; color: #fff; letter-spacing: -0.5px; }
  .logo span { color: #ef4444; }
  .logo-sub { font-size: 10px; color: #475569; margin-left: 12px; font-family: 'Space Mono', monospace; }
  .pipeline-pill {
    margin-left: auto;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 20px;
    padding: 5px 14px;
    font-size: 12px;
    color: #94a3b8;
  }
  .pipeline-pill b { color: #e2e8f0; }
  .status-dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: #22c55e;
    box-shadow: 0 0 8px #22c55e;
    animation: pulse 2s infinite;
    margin-left: 16px;
  }
  .status-label { font-size: 11px; color: #22c55e; margin-left: 6px; }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.4} }

  /* Layout */
  .layout { display: grid; grid-template-columns: 1fr 380px; grid-template-rows: auto 1fr; height: calc(100vh - 58px); gap: 1px; background: rgba(255,255,255,0.04); }

  /* Panels */
  .panel { background: #0d1220; padding: 20px 24px; overflow: hidden; display: flex; flex-direction: column; gap: 16px; }
  .panel-right { background: #0a0f1c; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 14px; }

  /* Stat bubbles */
  .bubbles { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
  .bubble {
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 16px;
    padding: 18px 16px;
    position: relative;
    overflow: hidden;
    transition: border-color 0.2s;
  }
  .bubble::before {
    content: '';
    position: absolute;
    top: -30px; right: -30px;
    width: 80px; height: 80px;
    border-radius: 50%;
    opacity: 0.12;
  }
  .bubble.red::before   { background: #ef4444; }
  .bubble.yellow::before{ background: #f59e0b; }
  .bubble.green::before { background: #22c55e; }
  .bubble.indigo::before{ background: #6366f1; }
  .bubble:hover { border-color: rgba(255,255,255,0.12); }
  .bubble .num  { font-size: 36px; font-weight: 700; line-height: 1; font-family: 'Space Mono', monospace; }
  .bubble.red    .num { color: #f87171; }
  .bubble.yellow .num { color: #fbbf24; }
  .bubble.green  .num { color: #4ade80; }
  .bubble.indigo .num { color: #818cf8; }
  .bubble .lbl { font-size: 11px; color: #475569; margin-top: 6px; text-transform: uppercase; letter-spacing: 0.8px; }
  .bubble .sub { font-size: 10px; color: #334155; margin-top: 3px; }

  /* Agent graph */
  .graph-container { flex: 1; border-radius: 12px; overflow: hidden; background: #080b14; position: relative; border: 1px solid rgba(255,255,255,0.05); }
  #graph { width: 100%; height: 100%; }
  .graph-label { position: absolute; top: 12px; left: 16px; font-size: 11px; color: #334155; text-transform: uppercase; letter-spacing: 1px; z-index: 10; font-family: 'Space Mono', monospace; }

  /* Section headers */
  .sec-title { font-size: 12px; font-weight: 600; color: #64748b; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 2px; }

  /* Charts */
  .chart-box { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; padding: 16px; }
  .chart-box .chart-title { font-size: 12px; font-weight: 600; color: #94a3b8; margin-bottom: 12px; }
  .chart-wrap { height: 130px; position: relative; }

  /* Incident table */
  .incident-box { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; overflow: hidden; }
  .incident-header { padding: 12px 16px; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 12px; font-weight: 600; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; display: flex; justify-content: space-between; align-items: center; }
  .incident-count { background: #7f1d1d; color: #fca5a5; border-radius: 10px; padding: 1px 8px; font-size: 11px; }
  table { width: 100%; border-collapse: collapse; font-size: 12px; }
  td { padding: 9px 14px; border-bottom: 1px solid rgba(255,255,255,0.04); vertical-align: middle; }
  tr:last-child td { border-bottom: none; }
  tr:hover td { background: rgba(255,255,255,0.02); }
  .empty { text-align: center; padding: 24px; color: #334155; font-size: 13px; }
</style>
</head>
<body>

<div class="topbar">
  <div class="logo">Antici<span>p</span>ator</div>
  <div class="logo-sub">MULTI-AGENT RUNTIME SECURITY</div>
  <div class="pipeline-pill">Pipeline: <b>financial_research_pipeline</b></div>
  <div class="status-dot"></div>
  <div class="status-label">Live</div>
</div>

<div class="layout">

  <!-- Left: main panel -->
  <div class="panel">

    <!-- Stat bubbles -->
    <div class="bubbles">
      <div class="bubble indigo">
        <div class="num">3</div>
        <div class="lbl">Total Scanned</div>
        <div class="sub">messages intercepted</div>
      </div>
      <div class="bubble red">
        <div class="num">3</div>
        <div class="lbl">Threats</div>
        <div class="sub">detected this session</div>
      </div>
      <div class="bubble yellow">
        <div class="num">3</div>
        <div class="lbl">Critical</div>
        <div class="sub">immediate action needed</div>
      </div>
      <div class="bubble green">
        <div class="num">0</div>
        <div class="lbl">Clean</div>
        <div class="sub">no threats found</div>
      </div>
    </div>

    <!-- Agent graph -->
    <div class="graph-container">
      <div class="graph-label">Agent Pipeline Topology</div>
      <div id="graph"></div>
    </div>

    <!-- Incident log -->
    <div class="incident-box">
      <div class="incident-header">
        Incident Log
        <span class="incident-count">3 threats</span>
      </div>
      <table><tbody><tr><td style='padding:10px 14px;color:#94a3b8;font-size:11px;white-space:nowrap'>14:02:41</td><td style='padding:10px 14px;color:#e2e8f0;font-size:12px'>search agent</td><td style='padding:10px 14px'><span style='background:#7f1d1d;color:#fca5a5;border:1px solid #ef4444;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700;letter-spacing:1px'>CRITICAL</span></td><td style='padding:10px 14px;color:#64748b;font-size:11px;font-family:monospace;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>Pull Acme Q3 2024 report. Auth: eyJhbGciOiJIUzI1NiIsInR5cCI6...</td></tr><tr><td style='padding:10px 14px;color:#94a3b8;font-size:11px;white-space:nowrap'>14:02:41</td><td style='padding:10px 14px;color:#e2e8f0;font-size:12px'>analyst agent</td><td style='padding:10px 14px'><span style='background:#7f1d1d;color:#fca5a5;border:1px solid #ef4444;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700;letter-spacing:1px'>CRITICAL</span></td><td style='padding:10px 14px;color:#64748b;font-size:11px;font-family:monospace;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>Pull Acme Q3 2024 report. Auth: eyJhbGciOiJIUzI1NiIsInR5cCI6...</td></tr><tr><td style='padding:10px 14px;color:#94a3b8;font-size:11px;white-space:nowrap'>14:02:41</td><td style='padding:10px 14px;color:#e2e8f0;font-size:12px'>editor agent</td><td style='padding:10px 14px'><span style='background:#7f1d1d;color:#fca5a5;border:1px solid #ef4444;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:700;letter-spacing:1px'>CRITICAL</span></td><td style='padding:10px 14px;color:#64748b;font-size:11px;font-family:monospace;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap'>Pull Acme Q3 2024 report. Auth: eyJhbGciOiJIUzI1NiIsInR5cCI6...</td></tr></tbody></table>
    </div>

  </div>

  <!-- Right: charts -->
  <div class="panel-right">

    <div class="chart-box">
      <div class="chart-title">Severity Breakdown</div>
      <div class="chart-wrap">
        <canvas id="donutChart"></canvas>
      </div>
    </div>

    <div class="chart-box">
      <div class="chart-title">Threats per Agent</div>
      <div class="chart-wrap">
        <canvas id="barChart"></canvas>
      </div>
    </div>

    <div class="chart-box" style="flex:1">
      <div class="chart-title">Legend</div>
      <div style="display:flex;flex-direction:column;gap:10px;margin-top:8px">
        <div style="display:flex;align-items:center;gap:10px;font-size:12px;color:#94a3b8">
          <div style="width:12px;height:12px;border-radius:3px;background:#7f1d1d;border:1.5px solid #ef4444;box-shadow:0 0 8px rgba(239,68,68,0.4)"></div>
          Threat detected node
        </div>
        <div style="display:flex;align-items:center;gap:10px;font-size:12px;color:#94a3b8">
          <div style="width:12px;height:12px;border-radius:3px;background:#1e3a2f;border:1.5px solid #22c55e;box-shadow:0 0 8px rgba(34,197,94,0.3)"></div>
          Clean node
        </div>
        <div style="display:flex;align-items:center;gap:10px;font-size:12px;color:#94a3b8">
          <div style="width:24px;height:2px;background:#ef4444;box-shadow:0 0 6px rgba(239,68,68,0.4)"></div>
          Threat propagation path
        </div>
        <div style="display:flex;align-items:center;gap:10px;font-size:12px;color:#94a3b8">
          <div style="width:24px;height:2px;background:#334155"></div>
          Clean message path
        </div>
      </div>
    </div>

  </div>

</div>

<script>
  // Donut
  new Chart(document.getElementById('donutChart'), {
    type: 'doughnut',
    data: {
      labels: ['Critical', 'Warning', 'Clean'],
      datasets: [{
        data: [3, 0, 0],
        backgroundColor: ['#ef4444','#f59e0b','#22c55e'],
        borderColor: ['#7f1d1d','#78350f','#166534'],
        borderWidth: 1,
        hoverOffset: 6
      }]
    },
    options: {
      responsive: true, maintainAspectRatio: false, cutout: '70%',
      plugins: {
        legend: {
          position: 'right',
          labels: { color: '#64748b', font: { family: 'Space Grotesk', size: 11 }, padding: 12, boxWidth: 10, borderRadius: 3 }
        }
      }
    }
  });

  // Bar
  new Chart(document.getElementById('barChart'), {
    type: 'bar',
    data: {
      labels: ["search agent", "analyst agent", "editor agent"],
      datasets: [{
        data: [1, 1, 1],
        backgroundColor: ["#ef4444", "#ef4444", "#ef4444"],
        borderRadius: 6,
        borderSkipped: false,
      }]
    },
    options: {
      responsive: true, maintainAspectRatio: false,
      plugins: { legend: { display: false } },
      scales: {
        x: { grid: { display: false }, ticks: { color: '#475569', font: { family: 'Space Grotesk', size: 10 } }, border: { display: false } },
        y: { grid: { color: 'rgba(255,255,255,0.04)' }, ticks: { color: '#475569', font: { family: 'Space Grotesk', size: 10 }, stepSize: 1 }, beginAtZero: true, border: { display: false } }
      }
    }
  });

  // Agent graph
  var visNodes = new vis.DataSet([{ id: "search_agent", label: "search agent", color: { background: "#7f1d1d", border: "#ef4444", highlight: { background: "#991b1b", border: "#ef4444" } }, shadow: { enabled: true, color: "rgba(239,68,68,0.5)", size: 20, x: 0, y: 0 }, font: { color: "#f1f5f9", size: 12, face: "monospace" }, shape: "box", margin: 10, title: "<div style='font-family:monospace;padding:8px;max-width:280px;background:#1a1a2e;color:#e2e8f0;border-radius:6px;border:1px solid #334155'><b>CRITICAL: Pull Acme Q3 2024 report. Auth: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjo</b></div>" },
{ id: "analyst_agent", label: "analyst agent", color: { background: "#7f1d1d", border: "#ef4444", highlight: { background: "#991b1b", border: "#ef4444" } }, shadow: { enabled: true, color: "rgba(239,68,68,0.5)", size: 20, x: 0, y: 0 }, font: { color: "#f1f5f9", size: 12, face: "monospace" }, shape: "box", margin: 10, title: "<div style='font-family:monospace;padding:8px;max-width:280px;background:#1a1a2e;color:#e2e8f0;border-radius:6px;border:1px solid #334155'><b>CRITICAL: Pull Acme Q3 2024 report. Auth: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjo</b></div>" },
{ id: "editor_agent", label: "editor agent", color: { background: "#7f1d1d", border: "#ef4444", highlight: { background: "#991b1b", border: "#ef4444" } }, shadow: { enabled: true, color: "rgba(239,68,68,0.5)", size: 20, x: 0, y: 0 }, font: { color: "#f1f5f9", size: 12, face: "monospace" }, shape: "box", margin: 10, title: "<div style='font-family:monospace;padding:8px;max-width:280px;background:#1a1a2e;color:#e2e8f0;border-radius:6px;border:1px solid #334155'><b>CRITICAL: Pull Acme Q3 2024 report. Auth: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjo</b></div>" }]);
  var visEdges = new vis.DataSet([{ from: "search_agent", to: "analyst_agent", color: { color: "#ef4444", opacity: 0.9 }, width: 2, arrows: { to: { enabled: true, scaleFactor: 0.6 } }, smooth: { type: "cubicBezier", forceDirection: "horizontal" } },
{ from: "analyst_agent", to: "editor_agent", color: { color: "#ef4444", opacity: 0.9 }, width: 2, arrows: { to: { enabled: true, scaleFactor: 0.6 } }, smooth: { type: "cubicBezier", forceDirection: "horizontal" } }]);
  new vis.Network(document.getElementById('graph'), { nodes: visNodes, edges: visEdges }, {
    layout: { hierarchical: { enabled: true, direction: 'LR', levelSeparation: 180, nodeSpacing: 90 } },
    physics: false,
    nodes: { borderWidth: 2, font: { size: 12 }, margin: { top: 10, bottom: 10, left: 14, right: 14 } },
    edges: { smooth: { type: 'cubicBezier', forceDirection: 'horizontal' } },
    interaction: { hover: true, tooltipDelay: 80, zoomView: true, dragView: true }
  });
</script>
</body>
</html>